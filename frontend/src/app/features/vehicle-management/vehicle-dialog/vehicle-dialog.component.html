<div class="vehicle-dialog-container">
  <h2 mat-dialog-title>{{ data ? 'Modifier' : 'Ajouter' }} un véhicule</h2>
  <form [formGroup]="vehicleForm" (ngSubmit)="onSubmit()">
    <mat-form-field appearance="outline">
      <mat-label>Immatriculation</mat-label>
      <input matInput formControlName="registration" required />
    </mat-form-field>
    <mat-form-field appearance="outline">
      <mat-label>Marque</mat-label>
      <input matInput formControlName="brand" />
    </mat-form-field>
    <mat-form-field appearance="outline">
      <mat-label>Modèle</mat-label>
      <input matInput formControlName="model" required />
    </mat-form-field>
    <mat-form-field appearance="outline">
      <mat-label>Nombre de places</mat-label>
      <input
        matInput
        type="number"
        formControlName="seats"
        required
        min="1"
      />
    </mat-form-field>
    <mat-form-field appearance="outline">
      <mat-label>Statut</mat-label>
      <mat-select formControlName="vehicleStatus">
        <mat-option *ngFor="let s of statusOptions" [value]="s.value">{{
          s.label
        }}</mat-option>
      </mat-select>
    </mat-form-field>
    <mat-form-field appearance="outline">
      <mat-label>Catégorie</mat-label>
      <mat-select formControlName="vehicleCategory">
        <mat-option *ngFor="let c of categoryOptions" [value]="c.value">{{
          c.label
        }}</mat-option>
      </mat-select>
    </mat-form-field>
    <mat-form-field appearance="outline">
      <mat-label>Motorisation</mat-label>
      <mat-select formControlName="vehicleMotor">
        <mat-option *ngFor="let m of motorOptions" [value]="m.value">{{
          m.label
        }}</mat-option>
      </mat-select>
    </mat-form-field>
    <mat-form-field appearance="outline">
      <mat-label>CO2/km</mat-label>
      <input matInput type="number" formControlName="co2PerKm" min="0" />
    </mat-form-field>
    <mat-form-field appearance="outline">
      <mat-label>Image (URL)</mat-label>
      <input matInput formControlName="urlImage" />
    </mat-form-field>
    <div
      style="display: flex; justify-content: center; gap: 8px; margin-top: 16px;"
    >
      <button mat-button type="button" (click)="onCancel()">Annuler</button>
      <button
        mat-raised-button
        color="primary"
        type="submit"
        [disabled]="vehicleForm.invalid"
      >
        {{ data ? 'Modifier' : 'Ajouter' }}
      </button>
    </div>
  </form>
</div> 